{% extends "base.html" %}
{% load static %}

{% block title %}Registro{% endblock %}

{% block content %}

<style>

   
        
    .form-container {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0.85);
    }

    
        </style>
<link rel="stylesheet" href="{% static 'css/register.css' %}">
<div class="form-container">
    <div class="login-box">
        <h2>¡Regístrate para empezar a reservar salas!</h2>

        <img src="{% static 'images/Logo_crucedesalasazul.png' %}" alt="Logo">
        {% if messages %}
            {% for message in messages %}
                <div id="error-container" class="error-message {{message.tags}}" > {{ message }} </div>
            {% endfor %}
        {% else %}
            <div id="error-container" class="error-message"></div>
        {% endif %}

        <form method="post" onsubmit="return validateForm();">
            {% csrf_token %}
            {% for field in form %}
                {% if field.name == "pin" %}
                <div class="form-field {% if field.errors %}field-error{% endif %}">
                    <input type="password" value="{{ field.value|default:'' }}" 
                     name="{{ field.html_name }}" id="{{ field.id_for_label }}" placeholder=" " required>
                    <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                    {% if field.errors %}
                        <ul class="errorlist">
                            {% for error in field.errors %}
                                <li>{{ error }}</li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                </div>
                
                {% else %}    
                <div class="form-field {% if field.errors %}field-error{% endif %}">
                    <input type="{{ field.widget.input_type }}" value="{{ field.value|default:'' }}" 
                     name="{{ field.html_name }}" id="{{ field.id_for_label }}" placeholder=" " required>
                    <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                    {% if field.errors %}
                        <ul class="errorlist">
                            {% for error in field.errors %}
                                <li>{{ error }}</li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                </div>
                {% endif %}
            {% endfor %}
            <div class="form-field {% if form.repeat_pin.errors %}field-error{% endif %}">
                <input type="password" name="repeat-pin" id="repeat-pin" placeholder=" " required>
                <label for="repeat-pin">Confirme el PIN</label>
                {% if form.repeat_pin.errors %}
                    <ul class="errorlist">
                        {% for error in form.repeat_pin.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>
            <div class="form-field checkbox-field">
                <input type="checkbox" id="terms" name="terms" required>
                <label for="terms">
                    Acepto la Política de Privacidad y los Términos y Condiciones
                </label>
            </div>
            
            <button type="submit">Registrarse </button>
        </form>
    </div>
</div>
<script src="{% static 'scripts/registerValidation.js' %}"></script>

{% endblock %}
